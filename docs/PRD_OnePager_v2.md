# PRD 摘要版 v2

## ✅ 项目名称
Web 版个人股票持仓管理工具

## 🎯 项目目标
替代 Google Sheets 进行股票资产配置管理。用户可通过自动价格抓取 + 汇率转换 + 实时仓位偏差分析，在手机或网页端高效掌握自己的跨币种、多账户资产分布与调仓需求。

## 👤 用户画像
- 高净值个人投资者
- 多券商账户，持有日股、美股、港股、ETF、现金等多币种资产
- 对“目标仓位管理”（目标占比配置）有较强习惯
- 熟悉 Excel / Google Sheets
- 追求移动端实时查看、最少手动操作

## 📌 核心功能概览
| 模块 | 功能说明 |
| --- | --- |
| 📥 数据导入 | 读取配置模板文件（参考表格）自动获取价格、汇率、ticker 信息，无需 OCR |
| 📊 实时持仓比对 | 展示当前每项资产的实际占比 vs 目标占比，计算偏差，并图示标注（超配 / 低配） |
| ⚙️ 参数配置 | 用户可配置每支资产的目标占比、资产类别（Core / Satellite）、币种、替代 ticker 等 |
| 💱 汇率支持 | 汇率由用户手动输入或模板导入，用于统一折算为 JPY 资产总值基准 |
| 📈 图表展示 | 资产分布饼图、差异分析柱状图，便于直观理解当前配置情况 |
| 🌐 网页部署 | 部署于 GitHub Pages，适配手机端浏览器，随时查看持仓概况与建议 |

> 注：✅ 若能自动获取价格，则无需 OCR 提取价格信息。

## 🔧 技术建议
| 模块 | 技术选型 |
| --- | --- |
| 前端 | React + Tailwind CSS（轻量快速） |
| 图表 | Recharts 或 Chart.js |
| 数据管理 | 本地 JSON 文件或浏览器存储（可对接 Google Sheet 下载接口） |
| 部署 | GitHub Pages（免费托管） |
| 汇率来源 | 初期手动维护；后期可接入 exchangerate.host API 等 |

## ✅ 最小可用版本（MVP）范围
- 加载模板 CSV / JSON 文件，读取价格、币种、汇率等数据
- 用户手动输入目标配置参数（目标权重、类别、币种等）
- 自动计算每项资产的占比与偏差（以 JPY 统一市值）
- 图表呈现资产结构及与目标配置的偏差
- 手机端访问体验流畅

## 🔁 明确废弃项
| 项目 | 状态 |
| --- | --- |
| Google Sheets 实时函数（如 GOOGLEFINANCE()） | ❌ 废弃：Web App 无法使用 |
| OCR 模型（如 DeepSeek-OCR）用于价格提取 | ✅ 可选：若未来从截图识别资产类型时仍可启用，但不再用于价格识别 |
| 手动输入当前价格 | ❌ 无需，已通过模板或接口自动获取 |

## ✅ 验收标准（建议）
- 可加载并解析模板文件（CSV/JSON），计算各资产 JPY 市值及占比
- 支持设置目标占比并计算偏差，标注过/低配
- 支持手动维护或导入汇率
- 提供至少两类图表（饼图 + 柱状图）
- 移动端横竖屏均能顺畅查看

